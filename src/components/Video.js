import React, { Component } from "react";import {	View,	Text,	Image,	TouchableOpacity,	Platform,	Dimensions,	Linking,	ImageBackground,	FlatList,} from "react-native";import { Container, Content, Header, Button, Left, Body, Right, Card} from 'native-base'import styles from '../../assets/styles';import {NavigationEvents} from "react-navigation";import CountDown from 'react-native-countdown-component';import { WebView } from 'react-native-webview';class Video extends Component {	constructor(props){		super(props);		this.state={			spinner     : true,		}	}	static navigationOptions = () => ({		header      : null,		drawerLabel : () => null ,	});	onFocus(){	}	render() {		const { lecture, exTime, name, expiration, termName, termId, courseId, categoryId } = this.props.navigation.state.params;		return (			<Container>				<NavigationEvents onWillFocus={() => this.onFocus()} />				<Header style={styles.headerView}>					<Right style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.navigate('lectures', { lecture, exTime, name, expiration, termName, termId, courseId, categoryId })}>							<Image source={require('../../assets/images/back.png')} resizeMode={'contain'} style={{ width: 25, height: 25 }}/>						</Button>					</Right>					<Body style={{ width: '100%', alignItems: 'center', alignSelf: 'center' }}>					<Text style={[styles.textBold, styles.text_White, { fontSize: 18, alignSelf: 'center' }]}>{ lecture.name }</Text>					</Body>					<Left style={{ flex: 0 }}>						<Image source={require('../../assets/images/vector.png')} resizeMode={'contain'} style={{ width: 100, height: 100, top: 5, right: -5 }}/>					</Left>				</Header>				<Content contentContainerStyle={{ flexGrow: 1 }}>					<View style={{ padding: 15 }}>						<Text style={[styles.textRegular, styles.textRight, { color: '#999', fontSize: 18, marginVertical: 5, textAlign: 'center' }]}>باقي علي تجديدالاشتراك</Text>						<View style={{ flexDirection: 'row', alignSelf: 'center', marginBottom: 10 }}>							<CountDown								until={exTime}								onFinish={() => alert('finished')}								size={17}							/>						</View>						{/*<Text style={[styles.textRegular, styles.textRight, { color: '#999', fontSize: 18, marginVertical: 5, textAlign: 'center' }]}>فيديو رقم ٢</Text>*/}						<Card style={{ borderRadius: 10, padding: 0, height: 300 }}>							<View style={{ width: '100%', height: 240, borderTopLeftRadius: 10, borderTopRightRadius: 10, borderBottomWidth: 2, borderBottomColor: '#26336d'}}>								<View style={{ backgroundColor: 'transparent', width: '100%', height: 90, position: 'absolute', zIndex: 50 }} />								<WebView									allowsFullscreenVideo={true}									scrollEnabled={false}									style={{ flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: '#ecf0f1', }}									javaScriptEnabled={true}									source={{										uri: lecture.link,									}}								/>							</View>							<Image source={require('../../assets/images/video.png')} style={{ height: 70, width: 70, justifyContent: 'center', alignItems: 'center', marginTop: 210, right: -5, position: 'absolute' }} />							<View style={{ height: 60, borderWidth: 1, borderColor: '#d3d3d3', borderBottomLeftRadius: 10, borderBottomRightRadius: 10, padding: 5, borderTopWidth: 0 }}>								<Text style={[styles.textRegular, { fontSize: 16, alignSelf: 'flex-start', color: '#3e3e3e' }]}>{ lecture.name }</Text>								<Text style={[styles.textRegular, { alignSelf: 'flex-start', color: '#b7b7b7', marginTop: 5 }]}>{ lecture.instructor }</Text>							</View>						</Card>						<Card style={{ borderRadius: 10, padding: 0, height: 300, marginTop: 10 }} contentContainerStyle={{ flexGrow: 1 }}>							<View style={{ overflow: 'hidden', width: '100%', height: '100%', borderRadius: 10 }}>								<WebView									domStorageEnabled={true}									startInLoadingState={true}									scalesPageToFit={false}									scrollEnabled={true}									javaScriptEnabled={true}									style={{ flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: '#ecf0f1', borderRadius: 10 }}									source={{ uri: 'https://docs.google.com/gview?embedded=true&url=' + lecture.pdf }}								/>							</View>						</Card>						<TouchableOpacity							style={[ styles.Width_90, styles.flexCenter, styles.flexCenter, styles.marginVertical_15, styles.height_50, { borderRadius: 10, backgroundColor: '#f6b145' }]}							onPress={() => this.props.navigation.navigate('quiz', { id: lecture.id, exTime, lecture, name, expiration, termName, termId, courseId, categoryId })}>							<Text style={[styles.textRegular, styles.textSize_16, styles.text_White]}>استكمال</Text>						</TouchableOpacity>						<TouchableOpacity style={[ styles.Width_90, styles.flexCenter, styles.flexCenter, styles.height_50, { borderRadius: 10, backgroundColor: '#26336d' }]}							onPress={() => this.props.navigation.navigate('home')}>							<Text style={[styles.textRegular, styles.textSize_16, styles.text_White]}>عودة للرئيسية</Text>						</TouchableOpacity>					</View>				</Content>			</Container>		);	}}export default Video;